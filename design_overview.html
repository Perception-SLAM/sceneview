<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Sceneview: Design Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Sceneview
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Design Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#design_architecture">Overview</a></li>
<li class="level1"><a href="#design_rendering_engine">Rendering Engine</a><ul><li class="level2"><a href="#design_resources">Resources</a><ul><li class="level3"><a href="#design_resources_font">Font</a></li>
<li class="level3"><a href="#design_resources_geometry">Geometry</a></li>
<li class="level3"><a href="#design_resources_material">Material</a></li>
<li class="level3"><a href="#design_resources_scene">Scene graph</a></li>
<li class="level3"><a href="#design_resources_shader">Shader</a></li>
</ul>
</li>
<li class="level2"><a href="#design_scene_graph">Scene Graph</a><ul><li class="level3"><a href="#design_sg_camera">Camera</a></li>
<li class="level3"><a href="#design_sg_group">Group</a></li>
<li class="level3"><a href="#design_sg_light">Light</a></li>
<li class="level3"><a href="#design_sg_draw_node">Draw node</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#design_qt_widgets">Qt widgets</a></li>
<li class="level1"><a href="#design_renderer_input_handlers">Renderer / Input handler system</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="design_architecture"></a>
Overview</h1>
<p>This document assumes you have some familiarity with:</p>
<ul>
<li>Computer graphics principles</li>
<li>OpenGL</li>
<li>Qt</li>
</ul>
<p>In particular, it will help if you're familiar with concepts like a scene graph, the OpenGL programmable pipeline, and GUI toolkits.</p>
<p>Sceneview is built on top of Qt 5, and relies heavily on the Qt5Gui and Qt5Widgets modules.</p>
<p>The major components of Sceneview are:</p>
<ul>
<li>Rendering engine</li>
<li>Qt widgets for building user interfaces.</li>
<li>Renderer / Input handler system</li>
</ul>
<h1><a class="anchor" id="design_rendering_engine"></a>
Rendering Engine</h1>
<p>There are two ways to draw things with Sceneview:</p>
<ol type="1">
<li>Using the Sceneview rendering engine.</li>
<li>Using direct OpenGL commands, either using the older OpenGL fixed-function pipeline (e.g., with <code>glBegin</code>, <code>glVertex</code> and friends) or using your own programmable shaders directly.</li>
</ol>
<p>It is possible to use both in a single render cycle. This section describes the architecture of the Sceneview rendering engine, which is a shader-driven architecture for the modern OpenGL programmable pipeline.</p>
<p>The Sceneview rendering engine is similar to what you might find in a larger, more complex rendering engine like Ogre3d or Unity, but greatly slimmed down and simplified. Sceneview strives for simplicity and a primary goal is a small API that is just enough to enable sophisticated rendering techniques while still being simple enough for most people to completely understand.</p>
<p>The major concepts in the Sceneview rendering engine are:</p>
<ul>
<li>The resource system</li>
<li>The scene graph</li>
</ul>
<h2><a class="anchor" id="design_resources"></a>
Resources</h2>
<p>A <em>resource</em> is generally any data that is needed for some aspect of drawing, but that can be shared across multiple things being drawn. That's pretty vague, so the specific types of resources in Sceneview are:</p>
<ul>
<li><a class="el" href="design_overview.html#design_resources_font">Font</a></li>
<li><a class="el" href="design_overview.html#design_resources_geometry">Geometry</a></li>
<li><a class="el" href="design_overview.html#design_resources_material">Material</a></li>
<li><a class="el" href="design_overview.html#design_resources_scene">Scene graph</a></li>
<li><a class="el" href="design_overview.html#design_resources_shader">Shader</a></li>
</ul>
<p>Some general rules about resources:</p>
<ul>
<li>A resource is not drawable by itself.</li>
<li>A single resource can be shared by multiple nodes in the scene graph.</li>
</ul>
<h3><a class="anchor" id="design_resources_font"></a>
Font</h3>
<p>A font resource is used to draw text. Sceneview supports all fonts supported by Qt. For an example on drawing text, see <code>examples/example_viewer/text_renderer.cpp</code></p>
<p>See: <a class="el" href="classsv_1_1FontResource.html" title="A font texture map, suitable for rendering fonts using texture-mapped quads. ">sv::FontResource</a>.</p>
<h3><a class="anchor" id="design_resources_geometry"></a>
Geometry</h3>
<p>Geometry resources primarily describe the geometry of something to draw. They can be represented as any <a href="https://www.opengl.org/wiki/Primitive">OpenGL primitive</a>, such as <code>GL_TRIANGLES</code>, <code>GL_LINES</code>, <code>GL_POINTS</code>, etc. A geometry resource can also contain per-vertex attributes such as color and texture data.</p>
<p>A geometry resource is not drawable by itself. To make something show up on the screen, you need to instantiate a geometry resource together with a material resource into a Drawable object.</p>
<p>See: <a class="el" href="classsv_1_1GeometryResource.html" title="Geometry that can be rendered with glDrawArrays() or glDrawElements(). ">sv::GeometryResource</a>.</p>
<h3><a class="anchor" id="design_resources_material"></a>
Material</h3>
<p>A material resource describes the visual appearance of something to draw. Materials consist of three parts:</p>
<ul>
<li>A shader program</li>
<li>A set of parameters to pass to the shader (e.g., color)</li>
<li>A set of parameters to control OpenGL behavior (e.g., depth test).</li>
</ul>
<p>Materials are complementary to geometries - geometry specifies the shape and structure of what to draw, and materials determine their appearance.</p>
<p>See: <a class="el" href="classsv_1_1MaterialResource.html" title="Controls the appearance of a Drawable. ">sv::MaterialResource</a>.</p>
<h3><a class="anchor" id="design_resources_scene"></a>
Scene graph</h3>
<p>A scene graph is also a resource. Users will typically interact with a primary scene graph that contains the objects to be drawn in the scene. Other data can also be represented as a scene graph. In particular, 3D models imported into Sceneview are represented as scene graph resources.</p>
<p>See: <a class="el" href="classsv_1_1Scene.html" title="A scene graph. ">sv::Scene</a>.</p>
<h3><a class="anchor" id="design_resources_shader"></a>
Shader</h3>
<p>A shader resource is the instantiation of an OpenGL shader program. Sceneview currently supports vertex and fragment shaders.</p>
<p>Sceneview provides a small number of stock shaders that are generally useful, and it also provides a mechanism for you to use your own custom shaders.</p>
<p>When using a shader, Sceneview automatically fills out and passes certain uniform variables to the shader (e.g., the projection matrix). Other parameters must be specified as material parameters.</p>
<p>See: <a class="el" href="classsv_1_1ShaderResource.html" title="An OpenGL shader program. ">sv::ShaderResource</a> and <a class="el" href="classsv_1_1StockResources.html" title="Functions to generate stock resources. ">sv::StockResources</a>.</p>
<h4>Materials vs Shaders</h4>
<p>A shader is the program that ultimately controls the appearance of something being drawn. A material contains both a reference to a shader as well as parameters to input to the shader.</p>
<ul>
<li>A single shader can be used by many materials.</li>
<li>Shaders can take input from both a geometry and a material. e.g., a shader that does lighting calculations using a single material property.</li>
</ul>
<h2><a class="anchor" id="design_scene_graph"></a>
Scene Graph</h2>
<p>Sceneview maintains a fairly simple tree-based scene graph with a single root and the following concrete node types:</p>
<ul>
<li>Camera node</li>
<li>Group node</li>
<li>Light node</li>
<li>Draw node</li>
</ul>
<p>See: <a class="el" href="classsv_1_1Scene.html" title="A scene graph. ">sv::Scene</a>.</p>
<h3><a class="anchor" id="design_sg_camera"></a>
Camera</h3>
<p>Contains camera projection parameters (e.g., FOV, perspective/orthographic parameters) as well as camera position and orientation. The scene can be drawn from the perspective of any camera in the scene.</p>
<p>See: <a class="el" href="classsv_1_1CameraNode.html" title="Camera. ">sv::CameraNode</a>.</p>
<h3><a class="anchor" id="design_sg_group"></a>
Group</h3>
<p>A group node exists solely to contain other nodes, and is also the only node type allowed to have children.</p>
<p>See: <a class="el" href="classsv_1_1GroupNode.html" title="A scene graph node that can have children. ">sv::GroupNode</a>.</p>
<h3><a class="anchor" id="design_sg_light"></a>
Light</h3>
<p>Place lights in a scene graph to.. well, light up the scene and provide somewhat realistic lighting effects. The Sceneview-provided stock lighting shaders determine the appearance of objects in the scene using the lights.</p>
<p>See: <a class="el" href="classsv_1_1LightNode.html" title="A light in a scene graph used by some shaders to calculate lighting effects. ">sv::LightNode</a>.</p>
<h3><a class="anchor" id="design_sg_draw_node"></a>
Draw node</h3>
<p>A draw node contains a list of Drawable objects that the Sceneview render engine draws during each render cycle. A Drawable consists of a geometry and material paired together. You can implement custom drawables by subclassing Drawable.</p>
<p>See: <a class="el" href="classsv_1_1DrawNode.html" title="Scene node that contains a list of drawable objects. ">sv::DrawNode</a>.</p>
<h1><a class="anchor" id="design_qt_widgets"></a>
Qt widgets</h1>
<p>Sceneview provides a set of Qt widgets that are designed to make it quick and easy to put together a standalone visualization tool customized to your needs. The two most important of these are:</p>
<ul>
<li><a class="el" href="classsv_1_1Viewer.html" title="A QMainWindow that can be used to provide an application-level UI. ">sv::Viewer</a></li>
<li><a class="el" href="classsv_1_1Viewport.html" title="Widget that draws a scene and manages Renderer and InputHandler objects. ">sv::Viewport</a></li>
</ul>
<h1><a class="anchor" id="design_renderer_input_handlers"></a>
Renderer / Input handler system</h1>
<p>A renderer is a class that is tightly integrated into the Sceneview GUI. Writing custom renderers is the typical and recommended way of drawing things using Sceneview.</p>
<p>Things commonly done in a renderer:</p>
<ul>
<li>Insert / remove items into the scene graph</li>
<li>Issue direct OpenGL commands before or after the scene graph is rendered (e.g., if you want to bypass the Sceneview rendering engine).</li>
<li>Provide a QWidget as a UI for the renderer (e.g., to adjust the renderer's behavior). If provided, the renderer's widget is integrated into the <a class="el" href="classsv_1_1Viewer.html" title="A QMainWindow that can be used to provide an application-level UI. ">sv::Viewer</a> window.</li>
<li>Communicate with another subsystem.</li>
</ul>
<p>Sceneview provides a single stock renderer, <a class="el" href="classsv_1_1GridRenderer.html" title="A stock renderer provided as a basic utility and an example. ">sv::GridRenderer</a>, that can be used in your application, as well as example renderers in the <code>examples</code> directory in the source distribution.</p>
<p>See: <a class="el" href="classsv_1_1Renderer.html" title="Subclass this to add content in the scene and draw things. ">sv::Renderer</a>.</p>
<p>Similarly, you can also create your own input handlers to handle mouse and keyboard events. For example, if you don't like the Sceneview-provided camera controls, you can build your own and swap them in. The Sceneview <a class="el" href="classsv_1_1Viewer.html" title="A QMainWindow that can be used to provide an application-level UI. ">sv::Viewer</a> window provides a mechanism for switching between different input handlers.</p>
<p>Input handlers can also provide their own widgets to be integrated into the Sceneview GUI.</p>
<p>See: <a class="el" href="classsv_1_1InputHandler.html" title="Receive and handle mouse/keyboard input events. ">sv::InputHandler</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 17 2016 21:51:34 for Sceneview by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
