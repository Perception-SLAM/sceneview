<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Sceneview: Tutorial 02 - Bulitin renderers and Input handlers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Sceneview
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tutorial 02 - Bulitin renderers and Input handlers </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Now that we have a basic UI up and running, we can start drawing.</p>
<p>This tutorial introduces the following:</p>
<ul>
<li>Viewport</li>
<li>Renderers</li>
<li>Input handlers</li>
</ul>
<h1>Tutorial code</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;QApplication&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;sceneview/sceneview.hpp&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div>
<div class="line">{</div>
<div class="line">  QApplication app(argc, argv);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Create a sv::Viewer. This is a convenience widget that extends QMainWindow</span></div>
<div class="line">  <span class="comment">// and creates a &quot;stock&quot; application with the following contained widgets:</span></div>
<div class="line">  <span class="comment">// - sv::Viewport</span></div>
<div class="line">  <span class="comment">// - sv::RendererWidgetStack</span></div>
<div class="line">  <span class="comment">// - sv::InputHandlerWidgetStack</span></div>
<div class="line">  <a class="code" href="classsv_1_1Viewer.html">sv::Viewer</a> viewer;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Get the viewer&#39;s viewport widget.</span></div>
<div class="line">  <a class="code" href="classsv_1_1Viewport.html">sv::Viewport</a>* viewport = viewer.GetViewport();</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Add a builtin grid renderer to the viewer&#39;s viewport.</span></div>
<div class="line">  <a class="code" href="classsv_1_1Renderer.html">sv::Renderer</a>* grid_renderer = <span class="keyword">new</span> <a class="code" href="classsv_1_1GridRenderer.html">sv::GridRenderer</a>(<span class="stringliteral">&quot;grid&quot;</span>, viewport);</div>
<div class="line">  viewport-&gt;AddRenderer(grid_renderer);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Add a builtin input handler that controls the camera position and</span></div>
<div class="line">  <span class="comment">// orientation using mouse and keyboard input events.</span></div>
<div class="line">  <a class="code" href="classsv_1_1InputHandler.html">sv::InputHandler</a>* input_handler = <span class="keyword">new</span> <a class="code" href="classsv_1_1ViewHandlerHorizontal.html">sv::ViewHandlerHorizontal</a>(viewport,</div>
<div class="line">      QVector3D(0, 0, -1), viewport);</div>
<div class="line">  viewport-&gt;AddInputHandler(input_handler);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Show the viewer.</span></div>
<div class="line">  viewer.show();</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Run the Qt event loop.</span></div>
<div class="line">  <span class="keywordflow">return</span> app.exec();</div>
<div class="line">}</div>
</div><!-- fragment --><h1>Running the code</h1>
<p>If you build and run this example, you'll hopefully see something like:</p>
<div class="image">
<img src="tutorial_02.png" alt="tutorial_02.png"/>
<div class="caption">
tutorial_02_builtin</div></div>
<p> Try interacting with the 3D rendering widget by cilcking and dragging with the mouse. You should be able to move the camera around, panning, zooming, rotating.</p>
<h1>Viewport</h1>
<p><a class="el" href="classsv_1_1Viewport.html" title="Widget that draws a scene and manages Renderer and InputHandler objects. ">sv::Viewport</a> is a Qt Widget that provides an OpenGL drawing context. It does so by subclassing QOpenGLWidget, and adding additional functionality for a typical rendering pipeline, and maintains things like a default camera, the renderers, input handlers, etc. You'll get to know this one more later, but for now, it's enough to know that:</p>
<ul>
<li><a class="el" href="classsv_1_1Viewport.html" title="Widget that draws a scene and manages Renderer and InputHandler objects. ">sv::Viewport</a> <em>is the widget with the OpenGL context and where all the drawing happens</em>.</li>
</ul>
<h1>Renderer</h1>
<p>A <a class="el" href="classsv_1_1Renderer.html" title="Subclass this to add content in the scene and draw things. ">sv::Renderer</a> in Sceneview is the recommended way of grouping together related drawing functionality. For example, you might have one renderer for drawing a terrain model. You might have another renderer for drawing a robot model, and perhaps a third renderer for drawing image data. The <a class="el" href="classsv_1_1Renderer.html" title="Subclass this to add content in the scene and draw things. ">sv::Renderer</a> class is generally intended to be subclassed by Sceneview users.</p>
<p>Sceneview provides one builtin renderer, <a class="el" href="classsv_1_1GridRenderer.html" title="A stock renderer provided as a basic utility and an example. ">sv::GridRenderer</a>. It's best use case is probably to serve as a standin renderer while you get something else up and running, and can be a useful way to verify that 3D drawing works in Sceneview.</p>
<p>Future tutorials will show you how to create your own renderers.</p>
<h2>Renderer widget</h2>
<p>A common pattern is for a renderer to have a set of parameters that control its behavior. For example, you could have a parameter that controls the transparency of a 3D model, or switches from solid mode to wireframe mode. Each <a class="el" href="classsv_1_1Renderer.html" title="Subclass this to add content in the scene and draw things. ">sv::Renderer</a> can optionally provide a QWidget. If this widget is provided, then it will appear under the "Renderers" widget in the viewer window. See <a class="el" href="classsv_1_1Renderer.html" title="Subclass this to add content in the scene and draw things. ">sv::Renderer</a> API for more information.</p>
<p>The builtin <a class="el" href="classsv_1_1GridRenderer.html" title="A stock renderer provided as a basic utility and an example. ">sv::GridRenderer</a> does not provide a widget, but future tutorials will demonstrate how to do so.</p>
<h1>Input handler</h1>
<p>A <a class="el" href="classsv_1_1InputHandler.html" title="Receive and handle mouse/keyboard input events. ">sv::InputHandler</a> is complementary to a <a class="el" href="classsv_1_1Renderer.html" title="Subclass this to add content in the scene and draw things. ">sv::Renderer</a>. Whereas <a class="el" href="classsv_1_1Renderer.html" title="Subclass this to add content in the scene and draw things. ">sv::Renderer</a> is the recommended way to group rendering functionality, <a class="el" href="classsv_1_1InputHandler.html" title="Receive and handle mouse/keyboard input events. ">sv::InputHandler</a> is the recommended way to group together functionality for handling keyboard/mouse input. A common pattern might be to have multiple "tools". For example, you might have one tool for moving the camera around the scene, another for measuring distance, another for selecting an object in the scene. Each of these could be its own <a class="el" href="classsv_1_1InputHandler.html" title="Receive and handle mouse/keyboard input events. ">sv::InputHandler</a>.</p>
<p>Sceneview provides one builtin input handler, <a class="el" href="classsv_1_1ViewHandlerHorizontal.html" title="A view handler that has a notion of a fundamental plane (e.g., a ground plane) and a zenith direction...">sv::ViewHandlerHorizontal</a> that controls the camera based on mouse input.</p>
<dl class="section note"><dt>Note</dt><dd>Input handlers can also draw to the viewport.</dd></dl>
<h2>Input handler widget</h2>
<p>Similar to renderers, each <a class="el" href="classsv_1_1InputHandler.html" title="Receive and handle mouse/keyboard input events. ">sv::InputHandler</a> can also provide a widget for exposing and controlling behavior.</p>
<p>The builtin <a class="el" href="classsv_1_1ViewHandlerHorizontal.html" title="A view handler that has a notion of a fundamental plane (e.g., a ground plane) and a zenith direction...">sv::ViewHandlerHorizontal</a> provides a widget that allows switching the camera between orthographic and perspective projections. Try switching them back and forth to see how they change the camera view. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 17 2016 21:51:34 for Sceneview by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
